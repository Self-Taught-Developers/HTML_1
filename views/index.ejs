<!DOCTYPE html>
<html>

<head>
  <title>Express App</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Include Chart.js library -->

  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      padding: 0;
    }

    #Refresh {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      background-color: #3498db;
      color: white;
      cursor: pointer;
    }

    #strengthChart {
      margin-top: 20px;
    }
  </style>
</head>

<body>
  <button id="Refresh" onclick="window.location.href='/Refresh'">Refresh</button>

  <canvas id="strengthChart" width="800" height="400"></canvas>

  <script>
    // Check if strengthData is defined and not empty
    const strengthData = <%= strengthData ?JSON.stringify(strengthData) : '[]' %>;

    // Extract dates and strengths from the data
    const dates = strengthData.map(data => data.date);
    const strengths = strengthData.map(data => data.strength);

    // Create a new Chart instance if there is data
    if (dates.length > 0 && strengths.length > 0) {
      const ctx = document.getElementById('strengthChart').getContext('2d');
      const chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: dates,
          datasets: [{
            label: 'USD Strength',
            data: strengths,
            borderColor: 'blue',
            backgroundColor: 'transparent',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false
        }
      });
    }
  </script>
</body>

</html>